<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NGM HUB — Expenses Engine</title>

    <!-- mismas fuentes que login/dashboard -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link 
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap" 
      rel="stylesheet"
    >

    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/expenses_styles.css" />

    <!-- Global env/server/user pills -->
    <script src="assets/js/config.js" defer></script>
    <script src="assets/js/pills.js" defer></script>

</head>
<body class="page-expenses">
    <div class="app-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-logo">
                <img 
                    src="assets/img/logo.png" 
                    alt="NGM HUB Logo"
                    class="sidebar-logo-img"
                />
            </div>
            <div class="sidebar-title-block">
                <p class="sidebar-title">NGM HUB</p>
                <p class="sidebar-subtitle">Expenses Engine</p>
            </div>

            <!-- Sidebar nav (fallback static for now; later sidebar.js can override by id) -->
            <nav class="sidebar-nav" id="sidebar-nav">
                <a href="dashboard.html" class="nav-item">Overview</a>
                <a href="expenses.html" class="nav-item nav-item-active">Expenses</a>
                <a href="projects.html" class="nav-item">Projects</a>
                <a href="pipeline.html" class="nav-item">Pipeline</a>
                <a href="team.html" class="nav-item">Team</a>
                <a href="users.html" class="nav-item">Users</a>
                <a href="#" class="nav-item">Finance</a>
                <a href="#" class="nav-item">Estimator</a>
            </nav>
        </aside>

        <!-- Main area -->
        <div class="main-area">

            <!-- Topbar (system standard) -->
            <header class="ngm-topbar">
                <div class="ngm-bar-left">
                    <div class="ngm-brand">
                        <div class="ngm-brand-icon-small"><span>⚡</span></div>
                        <div class="ngm-brand-text">
                            <span class="ngm-brand-org">Next Generation Management</span>
                            <span class="ngm-brand-context">NGM Hub · Expenses Engine</span>
                        </div>
                    </div>
                </div>

                <div class="ngm-topbar-right">
                    <div class="ngm-meta">
                        <span id="env-pill" class="ngm-meta-pill ngm-meta-env">Environment · —</span>
                        <span id="server-pill" class="ngm-meta-pill ngm-meta-status ngm-meta-status-live">Server · —</span>
                    </div>

                    <form class="ngm-search" role="search" onsubmit="return false;">
                        <span class="ngm-global-search-icon">⌕</span>
                        <input
                            id="expenses-search-input"
                            type="search"
                            class="ngm-search-input"
                            placeholder="Search expenses…"
                            aria-label="Search expenses"
                        />
                    </form>

                    <span id="user-pill" class="user-pill">User · —</span>
                </div>
            </header>

            <main class="main-content">
                <div class="workspace">

                    <!-- Formulario de nuevo gasto -->
                    <section>
                        <h2 class="section-title">New Expense</h2>

                        <div class="ngm-card">
                            <form id="expenseForm" class="form-grid">

                                <!-- Transaction Date -->
                                <div class="field">
                                    <label class="field-label" for="exp-date">Transaction Date</label>
                                    <input
                                        id="exp-date"
                                        type="date"
                                        class="input"
                                        required
                                    >
                                </div>

                                <!-- Transaction Type -->
                                <div class="field">
                                    <label class="field-label" for="exp-txn-type">Transaction Type</label>
                                    <select id="exp-txn-type" class="input" required>
                                        <option value="">Select type</option>
                                    </select>
                                </div>

                                <!-- Vendor -->
                                <div class="field">
                                    <label class="field-label" for="exp-vendor">Vendor</label>
                                    <select id="exp-vendor" class="input" required>
                                        <option value="">Select vendor</option>
                                    </select>
                                </div>

                                <!-- Payment Method -->
                                <div class="field">
                                    <label class="field-label" for="exp-payment">Payment Method</label>
                                    <select id="exp-payment" class="input" required>
                                        <option value="">Select payment method</option>
                                    </select>
                                </div>

                                <!-- Amount -->
                                <div class="field">
                                    <label class="field-label" for="exp-amount">Amount</label>
                                    <input
                                        id="exp-amount"
                                        type="number"
                                        step="0.01"
                                        min="0"
                                        placeholder="0.00"
                                        class="input"
                                        required
                                    >
                                </div>

                                <!-- Account -->
                                <div class="field">
                                    <label class="field-label" for="exp-account">Account</label>
                                    <select id="exp-account" class="input">
                                        <option value="">Select account (optional)</option>
                                    </select>
                                </div>

                                <!-- Project -->
                                <div class="field">
                                    <label class="field-label" for="exp-project">Project</label>
                                    <select id="exp-project" class="input">
                                        <option value="">Select project (optional)</option>
                                    </select>
                                </div>

                                <!-- QuickBooks Transaction ID (optional) -->
                                <div class="field">
                                    <label class="field-label" for="exp-qbo-id">QBO Transaction ID</label>
                                    <input
                                        id="exp-qbo-id"
                                        type="text"
                                        placeholder="Optional"
                                        class="input"
                                    >
                                </div>

                                <!-- Description -->
                                <div class="field field-full">
                                    <label class="field-label" for="exp-desc">Description</label>
                                    <input
                                        id="exp-desc"
                                        type="text"
                                        placeholder="Expense description"
                                        class="input"
                                        required
                                    >
                                </div>

                                <!-- Checkboxes -->
                                <div class="field field-full">
                                    <label class="field-label">
                                        <input
                                            id="exp-show-reports"
                                            type="checkbox"
                                            checked
                                        >
                                        Show on Reports
                                    </label>
                                </div>

                                <div class="form-footer form-footer-right">
                                    <button type="submit" class="btn-primary">
                                        Save Expense
                                    </button>
                                </div>
                            </form>
                        </div>
                    </section>

                    <!-- Entradas recientes -->
                    <section class="data-section">
                        <h2 class="section-title">Recent Entries</h2>

                        <div class="ngm-sheet">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Vendor</th>
                                        <th>Project</th>
                                        <th>Amount</th>
                                        <th>Payment</th>
                                        <th>Description</th>
                                        <th>Type</th>
                                    </tr>
                                </thead>
                                <tbody id="expensesTableBody">
                                    <tr>
                                        <td colspan="7" style="text-align: center; color: #999;">Loading expenses...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>

                </div>
            </main>
        </div>
    </div>

    <!-- Config and Expenses Logic -->
    <script src="assets/js/expenses.js"></script>

    <script>
        window.addEventListener("DOMContentLoaded", () => {
            if (window.initTopbarPills) window.initTopbarPills();
            if (window.initSidebar) window.initSidebar(); // futuro sidebar.js
        });
    </script>

</body>
</html>
