<div id="addExpenseModal" class="modal-backdrop hidden">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">Add Expenses</div>
      <button type="button" class="modal-close-btn" id="btnCloseExpenseModal">&times;</button>
    </div>

    <div class="modal-body">
      <!-- Project indicator -->
      <div class="modal-project-info">
        <span class="modal-project-label">Project:</span>
        <span class="modal-project-name" id="modalProjectName">â€”</span>
      </div>

      <!-- Expense rows table -->
      <div class="modal-table-container">
        <table class="expense-rows-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Type</th>
              <th>Vendor</th>
              <th>Payment</th>
              <th>Amount</th>
              <th>Description</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="expenseRowsBody">
            <!-- Rows rendered by JS -->
          </tbody>
        </table>

        <div class="add-row-container">
          <button type="button" class="btn-add-row" id="btnAddExpenseRow">
            <span>+</span> Add Row
          </button>
        </div>

        <!-- Running total always visible below table -->
        <div class="modal-running-total" id="modalRunningTotalBar">
          <span class="modal-running-total-label">Items Total:</span>
          <span class="modal-running-total-value" id="modalRunningTotalValue">$0.00</span>
        </div>
      </div>

      <!-- Scan Validation Section (visible in scan mode) -->
      <div id="scanValidationSection" class="scan-validation-section hidden">
        <div class="scan-validation-header">Scan Validation</div>
        <div class="scan-validation-grid">
          <div class="scan-validation-card">
            <span class="scan-validation-card-label">Items Sum</span>
            <span class="scan-validation-card-value" id="modalRunningTotal">$0.00</span>
          </div>
          <div class="scan-validation-card">
            <span class="scan-validation-card-label">Invoice Total</span>
            <span class="scan-validation-card-value" id="invoiceTotalDisplay">$0.00</span>
          </div>
          <div class="scan-validation-card">
            <span class="scan-validation-card-label">AI Calculated</span>
            <span class="scan-validation-card-value" id="apiCalculatedDisplay">$0.00</span>
          </div>
        </div>
        <div class="scan-validation-status" id="scanValidationStatus"></div>
      </div>
    </div>

    <div class="modal-footer">
      <button type="button" class="btn-modal-secondary" id="btnCancelExpenses">Cancel</button>
      <button type="button" class="btn-modal-primary" id="btnSaveAllExpenses">Save All</button>
    </div>
  </div>
</div>
